
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_examples/plot_example.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_auto_examples_plot_example.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_plot_example.py:


Default Action and State nodes
==============================

A simple example using the :class:`~metaprompting.base.DefaultAction` and :class:`~metaprompting.base.DefaultState`
classes.

.. GENERATED FROM PYTHON SOURCE LINES 9-10

Define derived classes to make the call dynamics visible

.. GENERATED FROM PYTHON SOURCE LINES 10-32

.. code-block:: Python


    from metaprompting.base import DefaultAction, DefaultState


    class VerboseAction(DefaultAction):

        def input_trigger(self, input):
            print(f"{self} was triggered by {input}")
            super().input_trigger(input)

        def execute(self, *args, **kwargs):
            print(f"executing {self}")
            super().execute(*args, **kwargs)


    class VerboseState(DefaultState):

        def update(self, text):
            print(f"updating {self}")
            super().update(text)









.. GENERATED FROM PYTHON SOURCE LINES 33-34

Create state nodes

.. GENERATED FROM PYTHON SOURCE LINES 34-40

.. code-block:: Python

    root_1 = VerboseState()
    root_2 = VerboseState()
    root_3 = VerboseState()
    leaf_1 = VerboseState()
    leaf_2 = VerboseState()








.. GENERATED FROM PYTHON SOURCE LINES 41-42

Create action nodes, which auto-connects states

.. GENERATED FROM PYTHON SOURCE LINES 42-45

.. code-block:: Python

    action1 = VerboseAction(input_states=[root_1, root_2, root_3], output_state=leaf_1)
    action2 = VerboseAction(input_states=[root_3, root_2, root_1], output_state=leaf_2)








.. GENERATED FROM PYTHON SOURCE LINES 46-47

Update root state nodes, which triggers a cascade to leaf nodes

.. GENERATED FROM PYTHON SOURCE LINES 47-51

.. code-block:: Python

    root_1.update("smoke")
    root_2.update(" and ")
    root_3.update("mirrors")





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    updating <__main__.VerboseState object at 0x7fd34e314760>
    <__main__.VerboseAction object at 0x7fd34e3146d0> was triggered by <__main__.VerboseState object at 0x7fd34e314760>
    <__main__.VerboseAction object at 0x7fd34e3166b0> was triggered by <__main__.VerboseState object at 0x7fd34e314760>
    updating <__main__.VerboseState object at 0x7fd34e3163e0>
    <__main__.VerboseAction object at 0x7fd34e3146d0> was triggered by <__main__.VerboseState object at 0x7fd34e3163e0>
    <__main__.VerboseAction object at 0x7fd34e3166b0> was triggered by <__main__.VerboseState object at 0x7fd34e3163e0>
    updating <__main__.VerboseState object at 0x7fd34e3162c0>
    <__main__.VerboseAction object at 0x7fd34e3146d0> was triggered by <__main__.VerboseState object at 0x7fd34e3162c0>
    executing <__main__.VerboseAction object at 0x7fd34e3146d0>
    updating <__main__.VerboseState object at 0x7fd34e314580>
    <__main__.VerboseAction object at 0x7fd34e3166b0> was triggered by <__main__.VerboseState object at 0x7fd34e3162c0>
    executing <__main__.VerboseAction object at 0x7fd34e3166b0>
    updating <__main__.VerboseState object at 0x7fd34e314520>




.. GENERATED FROM PYTHON SOURCE LINES 52-53

Print output of leaf nodes

.. GENERATED FROM PYTHON SOURCE LINES 53-55

.. code-block:: Python

    print(leaf_1.value)
    print(leaf_2.value)




.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    smoke and mirrors
    mirrors and smoke





.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 0.003 seconds)


.. _sphx_glr_download_auto_examples_plot_example.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: plot_example.ipynb <plot_example.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: plot_example.py <plot_example.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: plot_example.zip <plot_example.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
